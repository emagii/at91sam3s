<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAM3S Software Package: S:/projets/EK/SAM3S-EK/sam3s_project_trunk/libraries/libchip_sam3s/include/pio_it.h File Reference</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">SAM3S Software Package 2.1</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_bcc78437aa20a9e08ae4ab86f04766f4.html">libraries</a>      </li>
      <li><a class="el" href="dir_b30b8b719f25c4bbbd255a5094ecac95.html">libchip_sam3s</a>      </li>
      <li><a class="el" href="dir_408f121158465988e343e57bd5ebbfa4.html">include</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>pio_it.h File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;<a class="el" href="pio_8h_source.html">pio.h</a>&quot;</code><br/>

<p><a href="pio__it_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#ad31e05d6debb1e88af6124cd7751af22">PIO_InitializeInterrupts</a> (uint32_t dwPriority)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the PIO interrupt management logic.  <a href="#ad31e05d6debb1e88af6124cd7751af22"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#a8be1f7591a811aec725670a92ffb6a31">PIO_ConfigureIt</a> (const <a class="el" href="struct_pin.html">Pin</a> *pPin, void(*handler)(const <a class="el" href="struct_pin.html">Pin</a> *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#a5e0833554c742d41b5f3376e53dc61e5">PIO_EnableIt</a> (const <a class="el" href="struct_pin.html">Pin</a> *pPin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#a07463cb19ee17ef2afdd2f31def188c5">PIO_DisableIt</a> (const <a class="el" href="struct_pin.html">Pin</a> *pPin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea8518ebb0c0604ceb1af0741aecbf4a"></a><!-- doxytag: member="pio_it.h::PIO_IT_InterruptHandler" ref="aea8518ebb0c0604ceb1af0741aecbf4a" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>PIO_IT_InterruptHandler</b> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#a1fc023afbbf0cdd67bf3f28ea3ceb06d">PioInterruptHandler</a> (uint32_t id, <a class="el" href="struct_pio.html">Pio</a> *pPio)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stub, to handling all PIO Capture interrupts, if not defined.  <a href="#a1fc023afbbf0cdd67bf3f28ea3ceb06d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adaf2253c76b14e77d0dbca31f2c93690"></a><!-- doxytag: member="pio_it.h::PIO_CaptureHandler" ref="adaf2253c76b14e77d0dbca31f2c93690" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#adaf2253c76b14e77d0dbca31f2c93690">PIO_CaptureHandler</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The PIO_CaptureHandler must be called by the PIO Capture Interrupt Service Routine with the corresponding PIO Capture instance. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Purpose</b></dt><dd></dd></dl>
<p>Configuration and handling of interrupts on PIO status changes. The API provided here have several advantages over the traditional PIO interrupt configuration approach:</p>
<ul>
<li>It is highly portable</li>
<li>It automatically demultiplexes interrupts when multiples pins have been configured on a single PIO controller</li>
<li>It allows a group of pins to share the same interrupt</li>
</ul>
<p>However, it also has several minor drawbacks that may prevent from using it in particular applications:</p>
<ul>
<li>It enables the clocks of all PIO controllers</li>
<li>PIO controllers all share the same interrupt handler, which does the demultiplexing and can be slower than direct configuration</li>
<li>It reserves space for a fixed number of interrupts, which can be increased by modifying the appropriate constant in <a class="el" href="pio__it_8c_source.html">pio_it.c</a>.</li>
</ul>
<dl class="user"><dt><b>Usage</b></dt><dd></dd></dl>
<ol type="1">
<li>Initialize the PIO interrupt mechanism using <a class="el" href="pio__it_8h.html#ad31e05d6debb1e88af6124cd7751af22" title="Initializes the PIO interrupt management logic.">PIO_InitializeInterrupts()</a> with the desired priority (0 ... 7).</li>
<li>Configure a status change interrupt on one or more pin(s) with <a class="el" href="pio__it_8h.html#a8be1f7591a811aec725670a92ffb6a31">PIO_ConfigureIt()</a>.</li>
<li>Enable &amp; disable interrupts on pins using <a class="el" href="pio__it_8h.html#a5e0833554c742d41b5f3376e53dc61e5">PIO_EnableIt()</a> and <a class="el" href="pio__it_8h.html#a07463cb19ee17ef2afdd2f31def188c5">PIO_DisableIt()</a>. </li>
</ol>

<p>Definition in file <a class="el" href="pio__it_8h_source.html">pio_it.h</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8be1f7591a811aec725670a92ffb6a31"></a><!-- doxytag: member="pio_it.h::PIO_ConfigureIt" ref="a8be1f7591a811aec725670a92ffb6a31" args="(const Pin *pPin, void(*handler)(const Pin *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PIO_ConfigureIt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_pin.html">Pin</a> *&nbsp;</td>
          <td class="paramname"> <em>pPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const <a class="el" href="struct_pin.html">Pin</a> *)&nbsp;</td>
          <td class="paramname"> <em>handler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configures a PIO or a group of PIO to generate an interrupt on status change. The provided interrupt handler will be called with the triggering pin as its parameter (enabling different pin instances to share the same handler). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pPin</em>&nbsp;</td><td>Pointer to a <a class="el" href="struct_pin.html">Pin</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>Interrupt handler function pointer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pio__it_8c_source.html#l00222">222</a> of file <a class="el" href="pio__it_8c_source.html">pio_it.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pio__it_8h_a8be1f7591a811aec725670a92ffb6a31_cgraph.gif" border="0" usemap="#pio__it_8h_a8be1f7591a811aec725670a92ffb6a31_cgraph" alt=""/></div>
<map name="pio__it_8h_a8be1f7591a811aec725670a92ffb6a31_cgraph" id="pio__it_8h_a8be1f7591a811aec725670a92ffb6a31_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a07463cb19ee17ef2afdd2f31def188c5"></a><!-- doxytag: member="pio_it.h::PIO_DisableIt" ref="a07463cb19ee17ef2afdd2f31def188c5" args="(const Pin *pPin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PIO_DisableIt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_pin.html">Pin</a> *&nbsp;</td>
          <td class="paramname"> <em>pPin</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables a given interrupt source, with no added side effects.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pPin</em>&nbsp;</td><td>Interrupt source to disable. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pio__it_8c_source.html#l00307">307</a> of file <a class="el" href="pio__it_8c_source.html">pio_it.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pio__it_8h_a07463cb19ee17ef2afdd2f31def188c5_cgraph.gif" border="0" usemap="#pio__it_8h_a07463cb19ee17ef2afdd2f31def188c5_cgraph" alt=""/></div>
<map name="pio__it_8h_a07463cb19ee17ef2afdd2f31def188c5_cgraph" id="pio__it_8h_a07463cb19ee17ef2afdd2f31def188c5_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5e0833554c742d41b5f3376e53dc61e5"></a><!-- doxytag: member="pio_it.h::PIO_EnableIt" ref="a5e0833554c742d41b5f3376e53dc61e5" args="(const Pin *pPin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PIO_EnableIt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_pin.html">Pin</a> *&nbsp;</td>
          <td class="paramname"> <em>pPin</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enables the given interrupt source if it has been configured. The status register of the corresponding PIO controller is cleared prior to enabling the interrupt. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pPin</em>&nbsp;</td><td>Interrupt source to enable. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pio__it_8c_source.html#l00277">277</a> of file <a class="el" href="pio__it_8c_source.html">pio_it.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pio__it_8h_a5e0833554c742d41b5f3376e53dc61e5_cgraph.gif" border="0" usemap="#pio__it_8h_a5e0833554c742d41b5f3376e53dc61e5_cgraph" alt=""/></div>
<map name="pio__it_8h_a5e0833554c742d41b5f3376e53dc61e5_cgraph" id="pio__it_8h_a5e0833554c742d41b5f3376e53dc61e5_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad31e05d6debb1e88af6124cd7751af22"></a><!-- doxytag: member="pio_it.h::PIO_InitializeInterrupts" ref="ad31e05d6debb1e88af6124cd7751af22" args="(uint32_t dwPriority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PIO_InitializeInterrupts </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>dwPriority</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the PIO interrupt management logic. </p>
<p>The desired priority of PIO interrupts must be provided. Calling this function multiple times result in the reset of currently configured interrupts.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>PIO controller interrupts priority. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pio__it_8c_source.html#l00178">178</a> of file <a class="el" href="pio__it_8c_source.html">pio_it.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pio__it_8h_ad31e05d6debb1e88af6124cd7751af22_cgraph.gif" border="0" usemap="#pio__it_8h_ad31e05d6debb1e88af6124cd7751af22_cgraph" alt=""/></div>
<map name="pio__it_8h_ad31e05d6debb1e88af6124cd7751af22_cgraph" id="pio__it_8h_ad31e05d6debb1e88af6124cd7751af22_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1fc023afbbf0cdd67bf3f28ea3ceb06d"></a><!-- doxytag: member="pio_it.h::PioInterruptHandler" ref="a1fc023afbbf0cdd67bf3f28ea3ceb06d" args="(uint32_t id, Pio *pPio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PioInterruptHandler </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pio.html">Pio</a> *&nbsp;</td>
          <td class="paramname"> <em>pPio</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stub, to handling all PIO Capture interrupts, if not defined. </p>
<p>Handles all interrupts on the given PIO controller. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>PIO controller ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pPio</em>&nbsp;</td><td>PIO controller base address. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pio__it_8c_source.html#l00095">95</a> of file <a class="el" href="pio__it_8c_source.html">pio_it.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pio__it_8h_a1fc023afbbf0cdd67bf3f28ea3ceb06d_cgraph.gif" border="0" usemap="#pio__it_8h_a1fc023afbbf0cdd67bf3f28ea3ceb06d_cgraph" alt=""/></div>
<map name="pio__it_8h_a1fc023afbbf0cdd67bf3f28ea3ceb06d_cgraph" id="pio__it_8h_a1fc023afbbf0cdd67bf3f28ea3ceb06d_cgraph">
</map>
</div>
</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
